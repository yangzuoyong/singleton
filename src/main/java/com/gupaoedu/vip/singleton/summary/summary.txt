单例模式
1.私有化构造器
2.保证多线程的安全
3.延迟加载
4.防止序列化和反序列化破坏单例
5.防止反射攻击


饿汉
    优点:绝对线程安全
    缺点:不用浪费内存
    做法:
        1.直接new
        2.在static块中new

懒汉
    优点:不浪费内存
    缺点:需要程序员自己解决线程问题
    做法:
        1.双重校验 doubleCheck + volatile
        2.内部类
            利用静态内部类默认不加载特性
            反射可以破坏

注册式单例
    1.枚举
        真·单例无双
        反射源码:对枚举做了剔除。不可用反射实例出枚举。
        利用 枚举名+枚举量名 注册在jvm中
    2.容器类型

序列化
    ObjectInputStream,ObjectOutputStream可以破坏
    覆写readResolve()方法

ThreadLocal
    线程内安全